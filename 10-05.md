# Домашнее задание к занятию 10.5 «Балансировка нагрузки. HAProxy/Nginx»
### Боробов И.С.

---

### Задание 1

Что такое балансировка нагрузки и зачем она нужна? 

*Приведите ответ в свободной форме.*

### Ответ:
**Балансировка нагрузки** - метод распределения заданий между несколькими сетевыми устройствами (например, серверами) с целью оптимизации использования ресурсов, сокращения времени обслуживания запросов, горизонтального масштабирования кластера (динамическое добавление/удаление устройств), а также обеспечения отказоустойчивости (резервирования). Распределение происходит на L4(Транспортный) или L7(Прикладной) уровнях модели OSI.  
Балансировка нагрузки предполагает обычно наличие специального программного обеспечения или аппаратных средств.

---

### Задание 2

Чем отличаются алгоритмы балансировки Round Robin и Weighted Round Robin? В каких случаях каждый из них лучше применять? 

*Приведите ответ в свободной форме.*

### Ответ:
**Round Robin** - Запросы распределяются по пулу сервером последовательно. Если в пуле все сервера одинаковой мощности, то этот алгоритм скорее всего подойдет идеально.  
**Weighted Round Robin** - Тот же round robin, но имеет дополнительное свойство — вес сервера. С его помощью мы можем указать балансировщику, сколько трафика отправлять на тот или иной сервер. Так сервера помощнее будут иметь больший вес и, соответственно, обрабатывать больше запросов, чем другие сервера.

---

### Задание 3

Установите и запустите Haproxy.

*Приведите скриншот systemctl status haproxy, где будет видно, что Haproxy запущен.*
### Ответ:  
#### Скриншот с запущенным haproxy  
![sysctlhaproxy](https://github.com/Borobov/srlb-homework/blob/271b2b78ad2f9db3ac3ded20dbf9cab4f0c261c4/img-10-05/haproxy%20systemctl.png)
---

### Задание 4

Установите и запустите Nginx.

*Приведите скриншот systemctl status nginx, где будет видно, что Nginx запущен.*

### Ответ:  
#### Скриншот с запущенным Nginx  
![sysctlnginx](https://github.com/Borobov/srlb-homework/blob/53461cc33ebe3f68a7e79cbc06ffe2d34fc0fd97/img-10-05/nginxsystemctl.png)

---

### Задание 5

Настройте Nginx на виртуальной машине таким образом, чтобы при запросе:

`curl http://localhost:8088/ping`

он возвращал в ответе строчку: 

"nginx is configured correctly".

*Приведите конфигурации настроенного Nginx сервиса и скриншот результата выполнения команды curl http://localhost:8088/ping.*

### Ответ:  
#### Ответ на команду команды curl http://localhost:8088/ping  
![curl_nginx](https://github.com/Borobov/srlb-homework/blob/fe3953df914a538c5faca1e52ccd7cc792c624b7/img-10-05/curl_nginx.png)  
Конфигурационный файл nginx:  
[nginx.conf](https://github.com/Borobov/srlb-homework/blob/srlb-14/file-10-05/nginx.conf) 
---

## Задания со звёздочкой*
Эти задания дополнительные. Их выполнять не обязательно. На зачёт это не повлияет. Вы можете их выполнить, если хотите глубже разобраться в материале.

---
### Задание 6*

Настройте Haproxy таким образом, чтобы при ответе на запрос:

`curl http://localhost:8080/`

он проксировал его в Nginx на порту 8088, который был настроен в задании 5 и возвращал от него ответ: 

"nginx is configured correctly". 

*Приведите конфигурации настроенного Haproxy и скриншоты результата выполнения команды curl http://localhost:8080/.*



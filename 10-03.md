# Домашнее задание к занятию 10.3 «Pacemaker»
### Боробов И.
---

### Задание 1

Опишите основные функции и назначение Pacemaker.  
*Приведите ответ в свободной форме.*

#### Ответ:
Pacemaker - менеджер ресурсов кластера. Он позволяет использовать службы и объекты в рамках одного кластера из двух или более нод.  
- позволяет находить и устранять сбои на уровне нод и служб;
- не зависит от подсистемы хранения (не требуется общий диск);
- поддерживает STONITH (Shoot-The-Other-Node-In-The-Head), то есть умершая нода изолируется и запросы к ней не поступают, пока нода не отправит сообщение о том, что она снова в рабочем состоянии;
- поддерживает кворумные и ресурсозависимые кластеры любого размера;
- поддерживает практически любую избыточную конфигурацию;
- может автоматически реплицировать конфиг на все узлы кластера — не придется править все вручную;
- можно задать порядок запуска ресурсов, а также их совместимость на одном узле;
- поддерживает расширенные типы ресурсов: клоны (когда ресурс запущен на множестве узлов) и дополнительные состояния (master/slave и подобное) — актуально для СУБД (MySQL, MariaDB, PostgreSQL, Oracle);
- имеет единую кластерную оболочку CRM с поддержкой скриптов.  

Идея заключается в том, что с помощью Corosync мы построим кластер, а следить за его состоянием будем с помощью Pacemaker.

---

### Задание 2

Опишите основные функции и назначение Corosync.  
*Приведите ответ в свободной форме.*

#### Ответ:
Corosync - программный продукт, который позволяет создавать единый кластер из нескольких аппаратных или виртуальных серверов. Corosync отслеживает и передает состояние всех участников (нод) в кластере.  

Этот продукт позволяет:  
- мониторить статус приложений;
- оповещать приложения о смене активной ноды в кластере;
-  отправлять идентичные сообщения процессам на всех нодах;
-  предоставлять доступ к общей базе данных с конфигурацией и статистикой;
-  отправлять уведомления об изменениях, произведенных в базе.

---

### Задание 3

Соберите модель, состоящую из двух виртуальных машин. Установите Pacemaker, Corosync, Pcs. Настройте HA кластер.  
*Пришлите скриншот рабочей конфигурации и состояния сервиса для каждого нода.*

#### Ответ:
---

### Задание 4 *

Установите и настройте DRBD-сервис для настроенного кластера.  
*Пришлите скриншот рабочей конфигурации и состояние сервиса для каждого нода.*

#### Ответ:
